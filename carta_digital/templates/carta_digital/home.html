{% extends 'carta_digital/base.html' %}
{% load static %}
{% block title %}Capriccio de Pizza{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}
{% block content %}




<!--<div class="container my-5 text-center" id="bienvenida">
    <div class="cartel-container">
        <svg class="cartel-svg" viewBox="0 0 500 100" preserveAspectRatio="xMidYMid meet">
            <path id="curva" d="M 50 80 Q 250 10 440 100" fill="transparent" />
            <text>
                <textPath href="#curva" startOffset="50%" text-anchor="middle">
                    <tspan class="cartel-text">¡Bienvenidos!</tspan>
                </textPath>
            </text>
        </svg>
    </div>
</div>

<div class="container mb-4" id="nueva-tienda-digital">
    <div class="alert alert-primary shadow-sm p-4 rounded text-center" style="background: #fdf2e9;">
        <h4 class="mb-3">✨ ¡Estamos felices de presentar nuestra nueva tienda digital!</h4>
        <p class="mb-0">
            Ahora podés hacer tus pedidos de forma rápida, simple y desde cualquier lugar con nuestra app web.
            Diseñamos este sistema pensando en vos, para que disfrutes de una experiencia más cómoda, moderna y directa.
            Elegí tu producto favorito, armá tu pedido y recibilo sin vueltas.
            <strong>¡Capriccio de Pizza evoluciona para estar cada vez más cerca tuyo!</strong>
        </p>
    </div>
</div>-->
{% if user.is_authenticated %}
<div class="text-end mt-3">
    <a href="{% url 'panel_admin' %}" class="btn btn-outline-primary btn-sm">Panel de Administración</a>
</div>
{% endif %}

<h1 class="capricciotitulo">Capriccio <span>de Pizza</span></h1>
<p class="lead">Lo inimaginable en gustos y sabores.</p>
<p class="lead">¡Mirá nuestro menú y hacé tu pedido!</p>

<div id="mensaje-agradecimiento" class="alert alert-success mt-3 text-center" style="display: none;">
    ¡Pedido enviado con éxito! Te contactaremos pronto.
</div>

<h2 class="my-4" id="nuestraCarta">Nuestra Carta</h2>

<div class="accordion" id="accordionCarta">
    <!-- Entradas -->
    <!-- Todos los productos -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingTodosLosProductos">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseTodosLosProductos" aria-expanded="false"
                aria-controls="collapseTodosLosProductos">
                <i class="bi bi-list-ul me-2"></i> Todos los Productos <span class="badge bg-primary">{{ todos_los_productos|length }}</span>
                    
            </button>
        </h2>
        <div id="collapseTodosLosProductos" class="accordion-collapse collapse"
            aria-labelledby="headingTodosLosProductos" data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div class="row justify-content-center mb-4">
                    <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-text bg-white">
                                <i class="bi bi-search"></i>
                            </span>
                            <input type="text" id="buscador-productos" class="form-control"
                                placeholder="Buscar productos...">
                        </div>
                        <div id="resultados-busqueda" class="mb-4"></div>
                    </div>
                </div>
                <div id="todos-los-productos">
                    {% for producto in todos_los_productos %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=producto %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>


    <!-- Platos Especiales -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingPlatosEspeciales">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapsePlatosEspeciales" aria-expanded="false"
                aria-controls="collapsePlatosEspeciales">
                <i class="bi bi-star-fill me-2 text-warning"></i> Platos Especiales <span class="badge bg-danger">{{platos_especiales|length }}</span>
                    
            </button>
        </h2>
        <div id="collapsePlatosEspeciales" class="accordion-collapse collapse" aria-labelledby="headingPlatosEspeciales"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="platos-especiales-container">
                    {% for plato in platos_especiales %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=plato %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>


    <!-- Hamburguesas -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingHamburguesas">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseHamburguesas" aria-expanded="false" aria-controls="collapseHamburguesas">
                <i class="bi bi-emoji-smile-fill me-2 text-danger"></i> Hamburguesas <span class="badge bg-danger">{{hamburguesas|length }}</span>
                    
            </button>
        </h2>
        <div id="collapseHamburguesas" class="accordion-collapse collapse" aria-labelledby="headingHamburguesas"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="hamburguesas-container">
                    {% for hamburguesa in hamburguesas %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=hamburguesa %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Pizzas -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingPizzas">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapsePizzas" aria-expanded="false" aria-controls="collapsePizzas">
                <i class="bi bi-disc-fill me-2 text-warning"></i> Pizzas <span class="badge bg-warning text-dark">{{pizzas|length }}</span>
                    
            </button>
        </h2>
        <div id="collapsePizzas" class="accordion-collapse collapse" aria-labelledby="headingPizzas"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="pizzas-container">
                    {% for pizza in pizzas %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=pizza %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Empanadas -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingEmpanadas">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseEmpanadas" aria-expanded="false" aria-controls="collapseEmpanadas">
                <i class="bi bi-circle-half me-2 text-secondary"></i> Empanadas <span class="badge bg-secondary">{{empanadas|length }}</span>
                    
            </button>
        </h2>
        <div id="collapseEmpanadas" class="accordion-collapse collapse" aria-labelledby="headingEmpanadas"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="empanadas-container">
                    {% for empanada in empanadas %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=empanada %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Tartas -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingTartas">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseTartas" aria-expanded="false" aria-controls="collapseTartas">
                <i class="bi bi-pie-chart-fill me-2 text-success"></i> Tartas <span class="badge bg-secondary">{{tartas|length }}</span>
                    

            </button>
        </h2>
        <div id="collapseTartas" class="accordion-collapse collapse" aria-labelledby="headingTartas"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="tartas-container">
                    {% for tarta in tartas %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=tarta %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Churrasquitos -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingChurrasquitos">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseChurrasquitos" aria-expanded="false" aria-controls="collapseChurrasquitos">
                <i class="bi bi-fire me-2 text-danger"></i> Churrasquitos <span class="badge bg-warning text-dark">{{churrasquitos|length }}</span>
                    
            </button>
        </h2>
        <div id="collapseChurrasquitos" class="accordion-collapse collapse" aria-labelledby="headingChurrasquitos"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="churrasquitos-container">
                    {% for churrasquito in churrasquitos %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=churrasquito %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Promos -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingPromos">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapsePromos" aria-expanded="false" aria-controls="collapsePromos">
                <i class="bi bi-gift-fill me-2 text-primary"></i> Promos <span class="badge bg-warning text-dark">{{promos|length }}</span>
                    
            </button>
        </h2>
        <div id="collapsePromos" class="accordion-collapse collapse" aria-labelledby="headingPromos"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="promos-container">
                    {% for promo in promos %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=promo %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Combos -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingCombos">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseCombos" aria-expanded="false" aria-controls="collapseCombos">
                <i class="bi bi-box-seam me-2 text-info"></i> Combos <span class="badge bg-warning text-dark">{{combos|length }}</span>
                    
            </button>
        </h2>
        <div id="collapseCombos" class="accordion-collapse collapse" aria-labelledby="headingCombos"
            data-bs-parent="#accordionCarta">
            <div class="accordion-body">
                <div id="combos-container">
                    {% for combo in combos %}
                    {% include 'carta_digital/partials/producto_card.html' with producto=combo %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

</div>
<hr class="my-5">
<section id="ubicacion" class="container mb-5">
    <h2 class="text-center mb-4">📍 Nuestra Ubicación</h2>
    <p class="text-center">¡Vení a visitarnos o retirá tu pedido en persona!</p>

    <div class="d-flex justify-content-center">
        <div class="ratio ratio-4x3 rounded shadow mapa-ubicacion" style="max-width: 400px;">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3277.073335804795!2d-58.29319292403249!3d-34.7789290667731!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95a32c1a9578797b%3A0xdb8b74aef50df955!2sAv.%20Gdor.%20Monteverde%201181%2C%20B1887%20Florencio%20Varela%2C%20Provincia%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1747768488461!5m2!1ses-419!2sar"
                allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </div>

    <div class="text-center mt-3">
        <a href="https://www.google.com/maps/dir/?api=1&destination=-34.77857217083645,-58.2908111224579"
            class="btn btn-outline-success btn-sm shadow-sm"
            target="_blank" rel="noopener noreferrer">
            🗺️ Cómo llegar
        </a>
    </div>
</section>



{% endblock %}